<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–µ–∑—É–ª—å—Ç–∞—Ç –ö–≤—ñ–∑—É</title>
    <link rel="stylesheet" href="../css_code/first_quiz_style.css">
    <style>
        .result-card {
            background: white;
            padding: 50px;
            border-radius: 25px;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 600px;
            width: 100%;
            animation: fadeInUp 0.8s ease;
        }
        .score-big {
            font-size: 80px;
            font-weight: bold;
            color: #667eea;
            margin: 20px 0;
            text-shadow: 2px 2px 0px #eee;
        }
        .stats {
            font-size: 1.2em;
            color: #555;
            margin-bottom: 30px;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
        }
        .stat-item {
            margin: 10px 0;
            border-bottom: 1px dashed #ddd;
            padding-bottom: 10px;
        }
        .stat-item:last-child {
            border-bottom: none;
        }
    </style>
</head>
<body>

    <h1>üèÜ –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ö–≤—ñ–∑—É</h1>

    <div class="result-card">
        <h2 id="greeting">–í—ñ—Ç–∞—î–º–æ!</h2>
        
        <div class="score-big">
            <span id="score">0</span>/<span id="total">0</span>
        </div>

        <div class="stats">
            <div class="stat-item">
                üë§ –ì—Ä–∞–≤–µ—Ü—å: <strong id="playerName">-</strong>
            </div>
            <div class="stat-item">
                ‚è±Ô∏è –ß–∞—Å –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è: <strong id="timeSpent">-</strong>
            </div>
        </div>

        <p id="message">–ß—É–¥–æ–≤–∞ —Ä–æ–±–æ—Ç–∞!</p>

        <a href="quiz.html">
            <button>–°–ø—Ä–æ–±—É–≤–∞—Ç–∏ —â–µ —Ä–∞–∑</button>
        </a>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const results = JSON.parse(sessionStorage.getItem('quizResults'));
            const name = sessionStorage.getItem('quizPlayerName');
            if (results && name) {
                document.getElementById('greeting').textContent = `–í—ñ—Ç–∞—î–º–æ, ${name}!`;
                document.getElementById('playerName').textContent = name;
                document.getElementById('score').textContent = results.score;
                document.getElementById('total').textContent = results.maxScore;
                const minutes = Math.floor(results.timeSpent / 60);
                const seconds = results.timeSpent % 60;
                const timeString = `${minutes} —Ö–≤ ${seconds} —Å–µ–∫`;
                document.getElementById('timeSpent').textContent = timeString;

                const percentage = (results.score / results.maxScore) * 100;
                const msgElement = document.getElementById('message');
                
                if (percentage === 100) {
                    msgElement.textContent = "ü•á –ù–µ–π–º–æ–≤—ñ—Ä–Ω–æ! –í–∏ –≥–µ–Ω—ñ–π!";
                } else if (percentage >= 50) {
                    msgElement.textContent = "üëç –ù–µ–ø–æ–≥–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç!";
                } else {
                    msgElement.textContent = "üìö –¢—Ä–µ–±–∞ —â–µ —Ç—Ä–æ—Ö–∏ –ø—ñ—ñ–≤—á–∏—Ç–∏—Å—è!";
                }
            } else {
                window.location.href = 'quiz.html';
            }
        });
    </script>
</body>
</html>
